<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lasse's Verhaal - Met Voorlees Startknop</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Russo+One&display=swap');
    body, html {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Russo One', sans-serif;
      background: #0f2027;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #e0f7fa;
      text-align: center;
      position: relative;
    }
    #background-gif {
      position: fixed;
      top: 50%;
      left: 50%;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      transform: translate(-50%, -50%);
      opacity: 0.15;
      pointer-events: none;
      z-index: 0;
      user-select: none;
    }
    #container {
      position: relative;
      max-width: 900px;
      background: rgba(10, 50, 70, 0.8);
      border-radius: 15px;
      padding: 40px 30px;
      box-shadow: 0 0 20px #00acc1;
      z-index: 10;
      user-select: none;
      margin-bottom: 20px;
    }
    #text {
      font-size: 2.2rem;
      line-height: 1.4;
      min-height: 120px;
      padding: 0 20px;
    }
    button {
      font-family: 'Russo One', sans-serif;
      font-size: 1.5rem;
      padding: 15px 30px;
      background-color: #00acc1;
      border: none;
      border-radius: 10px;
      color: white;
      cursor: pointer;
      box-shadow: 0 0 10px #00acc1;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #007c91;
    }
    .highlight {
      color: #00acc1;
      text-shadow: 0 0 8px #00acc1;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <img id="background-gif" src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExbmM2d2htNmN6YjhxdDE5dmE1NWJ3YWRyMjNza3E2ajNqNXEwNnNrbSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Bpo3DSDFCBxqxRt49i/giphy.gif" alt="Waterpolo keeper animatie" aria-hidden="true" />

  <div id="container" role="main" aria-live="polite" aria-atomic="true">
    <div id="text" aria-label="Lasse's verhaal">Klik op de knop hieronder om het verhaal voor te laten lezen.</div>
  </div>
  <button id="startBtn">Start Voorlezen</button>

  <script>
    const sentences = [
      "Ik weet eigenlijk niet hoe ik dit allemaal moet uitleggen, maar het zit te diep om niks mee te doen.",
      "Dus ik schrijf het op. Voor mezelf. Omdat het eruit moet.",
      "Ik heb afscheid genomen van mijn klas. Van mijn school. Van mijn club.",
      "En elk afscheid voelde als een klein stukje van mezelf dat ik moest loslaten.",
      "BZC was mijn club. Mijn thuis. Mijn mensen.",
      "Ik stond daar op doel alsof mijn leven ervan afhing.",
      "Elke training, elke wedstrijd, elke bal.",
      "Op de tribune zeiden ze: ‘Hij moet wat met dat talent gaan doen.’",
      "Toen kwam Het Ravijn. Eredivisie O16. Mijn kans.",
      "Maar mijn trainer heeft mij gement. Hij gaf me geen keuze.",
      "Hij belde me. Legde druk. Alsof ik fout zat door te dromen.",
      "Alsof ik alles wat ik gaf zomaar vergat.",
      "En nu zie ik een gastspeler op mijn plek trainen.",
      "Alsof ik nooit bestaan heb. Alsof ik te vervangen ben.",
      "Dat doet pijn. Diep.",
      "Maar ik ben verder gegaan. Voor mijn droom.",
      "En dat voelt soms als winnen en verliezen tegelijk.",
      "Ik hoop dat mensen ooit snappen wat dit echt met me heeft gedaan.",
      "Ik heb gekozen voor mezelf. En dat mag.",
      "Maar ik vergeet nooit wie ik was. Of waar ik vandaan kom."
    ];

    const textEl = document.getElementById('text');
    const startBtn = document.getElementById('startBtn');
    let index = 0;

    function speakText(text, callback) {
      if (!('speechSynthesis' in window)) {
        alert('Sorry, je browser ondersteunt geen voorlezen.');
        callback();
        return;
      }
      let utterance = new SpeechSynthesisUtterance(text);
      const voices = speechSynthesis.getVoices();
      console.log('Beschikbare stemmen:', voices);
      // Kies een Nederlandse mannelijke stem als die er is
      let voice = voices.find(v => v.lang.startsWith('nl') && v.name.toLowerCase().includes('male')) || voices.find(v => v.lang.startsWith('nl')) || voices[0];
      if(voice) utterance.voice = voice;
      utterance.rate = 0.9;
      utterance.pitch = 1.2;
      utterance.onend = callback;
      speechSynthesis.speak(utterance);
    }

    function showNextSentence() {
      if (index >= sentences.length) {
        textEl.innerHTML = "Einde van het verhaal. Bedankt voor het luisteren.";
        startBtn.style.display = 'inline-block';
        return;
      }
      const sentence = sentences[index];
      textEl.style.opacity = 0;
      setTimeout(() => {
        textEl.innerHTML = sentence;
        textEl.style.opacity = 1;
        speakText(sentence, () => {
          index++;
          showNextSentence();
        });
      }, 500);
    }

    startBtn.addEventListener('click', () => {
      startBtn.style.display = 'none';
      index = 0;
      showNextSentence();
    });

    // Optioneel: laad stemmen alvast zodat ze klaar zijn bij klik
    speechSynthesis.onvoiceschanged = () => {
      console.log('Stemmen geladen');
    };
  </script>
</body>
</html>
